# 游戏批量导入功能使用指南

## 功能概览

游戏批量导入功能允许用户通过以下三种方式快速添加多个游戏：

1. **CSV文件导入** - 上传CSV格式的游戏数据文件
2. **JSON文件导入** - 上传JSON格式的游戏数据文件  
3. **文本格式导入** - 直接在文本框中输入游戏数据

## 访问入口

### 方式一：通过"添加游戏"下拉菜单
1. 在游戏库页面，点击右上角的"添加游戏"按钮
2. 选择"批量导入"选项

### 方式二：从空状态页面
1. 当游戏库为空时，点击"批量导入游戏"按钮

## 支持的导入格式

### 1. CSV文件格式

**必需列：**
- `name` - 游戏名称
- `minPlayers` - 最少人数
- `maxPlayers` - 最多人数

**可选列：**
- `platform` - 游戏平台
- `type` - 游戏类型
- `description` - 游戏描述

**示例CSV文件：**
```csv
name,minPlayers,maxPlayers,platform,type,description
王者荣耀,5,5,移动端,MOBA,经典5V5竞技游戏
英雄联盟,5,5,PC,MOBA,全球最受欢迎的MOBA游戏
Among Us,4,10,PC,推理,太空狼人杀游戏
```

### 2. JSON文件格式

**数组格式，包含游戏对象：**

**必需字段：**
- `name` - 游戏名称
- `minPlayers` - 最少人数  
- `maxPlayers` - 最多人数

**可选字段：**
- `platform` - 游戏平台
- `type` - 游戏类型
- `description` - 游戏描述

**示例JSON文件：**
```json
[
  {
    "name": "王者荣耀",
    "minPlayers": 5,
    "maxPlayers": 5,
    "platform": "移动端",
    "type": "MOBA",
    "description": "腾讯旗下的5V5公平竞技手游"
  },
  {
    "name": "英雄联盟",
    "minPlayers": 5,
    "maxPlayers": 5,
    "platform": "PC",
    "type": "MOBA",
    "description": "全球最受欢迎的MOBA游戏"
  }
]
```

### 3. 文本格式

**格式：** `游戏名称|最少人数|最多人数|平台|类型|描述`

- 使用 `|` 分隔各个字段
- 每行一个游戏
- 前三个字段是必需的
- 后面的字段可以省略

**示例文本：**
```
王者荣耀|5|5|移动端|MOBA|经典5V5竞技游戏
英雄联盟|5|5|PC|MOBA|全球最受欢迎的MOBA游戏
Among Us|4|10|PC|推理|太空狼人杀游戏
剧本杀|4|8|线下|推理|沉浸式角色扮演推理游戏
```

## 使用步骤

### 文件导入方式

1. **打开批量导入对话框**
   - 点击"添加游戏" → "批量导入"

2. **选择文件导入标签页**
   - 默认已选中"文件导入"

3. **下载示例文件**（可选）
   - 点击"下载CSV示例"或"下载JSON示例"
   - 参考示例文件格式准备你的数据

4. **上传文件**
   - 拖拽文件到上传区域，或点击选择文件
   - 支持 `.csv` 和 `.json` 格式

5. **预览数据**
   - 文件解析成功后，会显示预览表格
   - 检查数据是否正确

6. **执行导入**
   - 点击"导入"按钮开始批量导入
   - 查看导入结果

### 文本导入方式

1. **打开批量导入对话框**

2. **选择文本导入标签页**

3. **输入游戏数据**
   - 按照格式说明输入数据
   - 每行一个游戏，使用 `|` 分隔字段

4. **解析文本**
   - 点击"解析文本"按钮
   - 检查预览表格中的数据

5. **执行导入**
   - 点击"导入"按钮

## 错误处理

### 常见错误及解决方案

1. **文件格式错误**
   - 确保文件是 UTF-8 编码
   - CSV文件确保包含标题行
   - JSON文件确保格式正确

2. **必需字段缺失**
   - 确保包含 `name`、`minPlayers`、`maxPlayers` 字段
   - 检查字段名拼写是否正确

3. **数据类型错误**
   - `minPlayers` 和 `maxPlayers` 必须是数字
   - 人数范围应该合理（1-100）

4. **部分导入失败**
   - 查看错误详情了解具体原因
   - 修正错误数据后重新导入

## 性能说明

- 单次导入建议不超过100个游戏
- 大量数据建议分批次导入
- 导入过程中请勿关闭对话框

## 示例文件下载

系统提供了示例文件供参考：

- **CSV示例：** `/sample-games.csv`
- **JSON示例：** `/sample-games.json`

这些文件包含了常见游戏的标准格式数据，可以直接下载使用或作为模板。

## 技术细节

### 数据验证规则

1. **游戏名称：** 不能为空，最长100字符
2. **最少人数：** 必须是1-100的整数
3. **最多人数：** 必须是1-100的整数，且不小于最少人数
4. **平台：** 可选，最长50字符
5. **类型：** 可选，最长50字符  
6. **描述：** 可选，最长500字符

### 导入流程

1. 文件解析 → 数据验证 → 预览展示
2. 用户确认 → 批量创建 → 结果反馈
3. 自动刷新游戏列表

## 常见问题

**Q: 支持Excel文件吗？**
A: 目前不直接支持Excel文件，请将Excel文件另存为CSV格式。

**Q: 可以更新已存在的游戏吗？**
A: 批量导入只支持新增游戏，不支持更新已存在的游戏。

**Q: 导入后游戏的创建者是谁？**
A: 所有通过批量导入的游戏，创建者都是当前登录的用户。

**Q: 如果导入过程中出现网络错误怎么办？**
A: 系统会显示具体的错误信息，请检查网络连接后重试。部分成功的导入不会回滚。

---

*最后更新：2024年12月* 